<%- js('js/jquery-3.4.1.min.js') %>
<%- js('js/script') %>
<%- partial('gauges-analytics') %>

<% if(theme.valine.enable && theme.valine.appId && theme.valine.appKey){ %>
    <%- js('https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js') %>
    <script>
        let GUEST_INFO = ['nick', 'mail', 'link'];
        let guest_info = '<%= theme.valine.guest_info %>'.split(',').filter(function (item) {
            return GUEST_INFO.indexOf(item) > -1
        });
        let notify = '<%= theme.valine.notify %>' == true;
        let verify = '<%= theme.valine.verify %>' == true;
        new Valine({
            el: '.vcomment',
            notify: notify,
            verify: verify,
            appId: "<%= theme.valine.appId %>",
            appKey: "<%= theme.valine.appKey %>",
            placeholder: "<%= theme.valine.placeholder %>",
            pageSize: '<%= theme.valine.pageSize %>',
            avatar: '<%= theme.valine.avatar %>',
            lang: '<%= theme.valine.lang %>'
        });
    </script>
    <% } 
%>